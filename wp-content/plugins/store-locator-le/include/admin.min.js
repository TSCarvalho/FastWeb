var SLP_ADMIN=SLP_ADMIN||{};SLP_ADMIN.topics={};var slp_Admin_Filter=function(d){var b,c,a=d&&SLP_ADMIN.topics[d];if(!a){if(typeof(jQuery.Callbacks)!=="undefined"){b=jQuery.Callbacks();a={publish:b.fire,subscribe:b.add,unsubscribe:b.remove}}else{slp.log("jQuery 1.7.0+ required, "+jQuery.fn.version+" used instead.  FAIL.");a={publish:function(e){return e}}}if(d){SLP_ADMIN.topics[d]=a}}return a};var slp_options_manager=function(){this.initialize=function(){jQuery("IMG.slp_icon_selector").click(function(){var b=jQuery(this).attr("src");var a=jQuery(this).closest("div.input-group");a.find("img.slp_settings_icon").attr("src",b).attr("src",b);a.find('input[type="text"]').val(b)})};this.change_option=function(c,b,a){if(typeof(c!==null)){if(jQuery(c).is(":checkbox")){if(typeof c.checked!=="undefined"){c.value=c.checked?"1":"0"}}}var d=new Object();d.action="slp_change_option";d.formdata={option_name:(typeof(b)==="undefined")?jQuery(c).attr("id"):b,option_value:(typeof(a)==="undefined")?jQuery(c).attr("value"):a};jQuery.post(ajaxurl,d,this.process_change_option_response)};this.process_change_option_response=function(b){var a=JSON.parse(b);if(a.status!=="ok"){alert("Option not saved.")}}};var slp_notifications=function(){this.initialize=function(){jQuery("div.slp-notification").click(function(){this.remove()});setTimeout(this.remove_all,5000)};this.remove_all=function(){jQuery(".slp-notification").each(function(a){var b=jQuery(this);setTimeout(function(){b.remove()},3000+a*300)})}};(function(a){AdminUI={confirmClick:function(c,b){if(confirm(c)){location.href=b}else{return false}},dismiss_persistent_notice:function(){SLP_ADMIN.options.change_option(null,"options_nojs[admin_notice_dismissed]","1")},doAction:function(d,b,e,c){e=typeof e!=="undefined"?e:"locationForm";if(jQuery("#"+e).length&&jQuery("#"+e).is("form")){targetForm="#"+e}else{targetForm="#"+e+" form"}c=typeof c!=="undefined"?c:"act";if((typeof b=="undefined")||(b==="")||confirm(b)){jQuery(targetForm+' [name="'+c+'"]').attr("value",d);jQuery(targetForm).submit()}else{return false}},toggle_nav_tabs:function(){var b=0;a("#expand_options").click(function(){if(b==0){b=1;a("#wpcsl_container #wpcsl-nav").hide();a("#wpcsl_container #content").width(785);a("#wpcsl_container .group").add("#wpcsl_container .group h1").show();a(this).text("[-]")}else{b=0;a("#wpcsl_container #wpcsl-nav").show();a("#wpcsl_container #content").width(595);a("#wpcsl_container .group").add("#wpcsl_container .group h1").hide();a("#wpcsl_container .group:first").show();a("#wpcsl_container #wpcsl-nav li").removeClass("current");a("#wpcsl_container #wpcsl-nav li:first").addClass("current");a(this).text("[+]")}})},load_first_tab:function(){a(".group").hide();var b=a("#selected_nav_element").val();if((typeof b==="undefined")||(b=="")){a('.group:has(".section"):first').show()}else{a(b).show()}},open_first_menu:function(){a("#wpcsl-nav li.current.has-children:first ul.sub-menu").hide().addClass("open").children("li:first").addClass("active").parents("li.has-children").addClass("open")},toggle_nav_menus:function(){a("#wpcsl-nav li.has-children > a").click(function(c){if(a(this).parent().hasClass("open")){return false}a("#wpcsl-nav li.top-level").removeClass("open").removeClass("current");a("#wpcsl-nav li.active").removeClass("active");if(a(this).parents(".top-level").hasClass("open")){}else{a("#wpcsl-nav .sub-menu.open").removeClass("open").hide().parent().removeClass("current");a(this).parent().addClass("open").addClass("current").find(".sub-menu").hide().addClass("open").children("li:first").addClass("active")}var b=a(this).parent().find(".sub-menu li a:first").attr("href");if(b!=""){a(".group").hide();a(b).show()}return false})},setup_nav_highlights:function(){var b=a("#selected_nav_element").val();if(b==""){a("#wpcsl-nav li.top-level:first").addClass("current").addClass("open")}else{a('#wpcsl-nav li.top-level:has(a[href="'+b+'"])').addClass("current").addClass("open")}a("#wpcsl-nav li.top-level").not(".has-children").find("a").click(function(d){var f=a(this);var c=f.attr("href");if(c!=""){a("#selected_nav_element").val(c);a("#wpcsl-nav .open").removeClass("open");a(".sub-menu").hide();a("#wpcsl-nav .active").removeClass("active");a("#wpcsl-nav li.current").removeClass("current");f.parent().addClass("current");a(".group").hide();a(c).show();a(c).trigger("is_shown");return false}});a('#wpcsl-nav li:not(".has-children") > a:first').click(function(d){var e=a(this);var c=e.attr("href");if(a(this).parents(".top-level").hasClass("open")){}else{a("#wpcsl-nav li.top-level").removeClass("current").removeClass("open");a("#wpcsl-nav .sub-menu").removeClass("open").hide();a(this).parents("li.top-level").addClass("current")}a(".group").hide();a(c).show();d.preventDefault();return false});a(".sub-menu a").click(function(f){var g=a(this);var d=a(this).parents("li.top-level");var c=g.attr("href");if(a('.sub-menu li a[href="'+c+'"]').hasClass("active")){return false}if(c!=""){d.addClass("open");a(".sub-menu li, .flyout-menu li").removeClass("active");a(this).parent().addClass("active");a(".group").hide();a(c).show()}return false})},unhide_hidden:function(b){b=a("#"+b);if(b.attr("checked")){b.parent().parent().parent().nextAll().hide().removeClass("hidden").addClass("visible")}else{b.parent().parent().parent().nextAll().each(function(){if(a(this).filter(".last").length){a(this).hide().addClass("hidden");return false}a(this).hide().addClass("hidden")})}}}})(jQuery);if(typeof(jQuery.Callbacks)!=="undefined"){SLP_ADMIN.filters={};var slp_AdminFilter=function(d){var b,c,a=d&&SLP_ADMIN.filters[d];if(!a){b=jQuery.Callbacks();a={publish:b.fire,subscribe:b.add,unsubscribe:b.remove};if(d){SLP_ADMIN.filters[d]=a}}return a};SLP_ADMIN.has_pubsub=true}else{SLP_ADMIN.log("jQuery callbacks not supported.");SLP_ADMIN.log("Something is forcing jQuery version "+jQuery.fn.jquery+" .");SLP_ADMIN.has_pubsub=false}SLP_ADMIN.log=function(a){if(window.console){console.log(a)}};jQuery(document).ready(function(){AdminUI.notifications=new slp_notifications();AdminUI.notifications.initialize();SLP_ADMIN.options=new slp_options_manager();SLP_ADMIN.options.initialize();AdminUI.toggle_nav_tabs();AdminUI.load_first_tab();AdminUI.setup_nav_highlights();AdminUI.toggle_nav_menus();AdminUI.open_first_menu();jQuery("div.settings-group").children("h3").click(function(){var a=jQuery(this).parent(".settings-group");a.toggleClass("closed")});jQuery("#slp_persistent_notice .notice-dismiss").click(AdminUI.dismiss_persistent_notice)});